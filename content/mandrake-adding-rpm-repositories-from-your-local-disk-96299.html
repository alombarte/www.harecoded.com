+++
date = "2005-11-15 00:00:00"
author = "alombarte"
title = "Mandrake: adding RPM repositories from your local disk"
slug = "mandrake-adding-rpm-repositories-from-your-local-disk-96299"
tags = [ "linux","mandrake" ]
+++
<p>Adding a local folder to the urpmi database is easily done using the <tt>urpmi.addmedia</tt> command. If this folder is filled with RPMs that you got from somewhere when you attempt to run urpmi.addmedia, an <strong>hdlist.cz</strong> file will be searched. If you don't have this file the addmedia will fail.</p>
<p>To solve this little problem, open a shell and generate the hdlist.cz:</p>
<p><code># su </code></p>
<p><code># cd /path/to/RPMs </code></p>
<p><code># genhdlist</code></p>
<p>And then you can safelly add your media (let's call it <em>localrpm</em>)</p>
<p><code>urpmi.addmedia localrpm file://path/to/RPMs with hdlist.cz</code></p><p>If you'd like to create your own urpmi repository containing your freshly downloaded RPMs files do not forget to enter inside the RPMs folder and generate the hdlist.cz file by executing the command "genhdlist" before calling the "urpmi.addmedia" instruction.</p>